!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["core"],b):"object"==typeof exports?module.exports=b(require("./core")):a.canvasHelper=b(core)}(this,function(a){"use strict";var b,c,d={},e=4,f="#EEE",g="#2D2D30",h="#0C0",i="#44F",j="#88F";return d.setCanvas=function(a){b=a,b&&b.getContext&&(c=b.getContext("2d"))},d.drawObstacles=function(b){for(var c=0;c<a.MAP_WIDTH;c++)for(var e=0;e<a.MAP_HEIGHT;e++)b[c][e]||d.drawObstacle(c,e)},d.drawObstacle=function(a,b){d.drawNode(a,b,g)},d.clearObstacle=function(a,b){d.drawNode(a,b,f)},d.drawVisited=function(a,b){d.drawNode(a,b,i)},d.drawOpenListNode=function(a,b){d.drawNode(a,b,j)},d.drawStartGoal=function(a,b){d.drawNode(a,b,h)},d.drawNode=function(b,d,e){c.fillStyle=e,c.fillRect(b*a.MAP_SCALE,d*a.MAP_SCALE,a.MAP_SCALE,a.MAP_SCALE)},d.clearCanvas=function(){c.fillStyle=f,c.fillRect(0,0,a.CANVAS_WIDTH,a.CANVAS_HEIGHT)},d.draw=function(b,f,g,i){d.drawStartGoal(i.x,i.y),d.drawStartGoal(g.x,g.y),c.beginPath(),c.moveTo((i.x+.5)*a.MAP_SCALE,(i.y+.5)*a.MAP_SCALE);for(var j=0;j<f.length;j++)d.drawOpenListNode(f[j].x,f[j].y);for(;i.parent;)i=i.parent,c.lineTo((i.x+.5)*a.MAP_SCALE,(i.y+.5)*a.MAP_SCALE);c.strokeStyle=h,c.lineWidth=e,c.stroke(),c.closePath()},d.drawPath=function(b){for(c.beginPath(),c.moveTo((b.x+.5)*a.MAP_SCALE,(b.y+.5)*a.MAP_SCALE);b.parent;)b=b.parent,c.lineTo((b.x+.5)*a.MAP_SCALE,(b.y+.5)*a.MAP_SCALE);c.strokeStyle=h,c.lineWidth=e,c.stroke(),c.closePath()},d.getCanvasWidth=function(){return b.setAttribute("width",b.clientWidth),b.clientWidth},d.getCanvasHeight=function(){return b.setAttribute("height",b.clientHeight),b.clientHeight},d});