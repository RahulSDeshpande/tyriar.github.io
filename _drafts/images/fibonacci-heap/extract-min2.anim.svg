<?xml version="1.0" standalone="yes"?>
<svg viewBox="0 0 390 240" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <svg width="390" height="240" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="playing" id="player">
        <style>
            .red { fill: hsl(0,100%,80%) !important; }
            .yellow { fill: hsl(60,100%,80%) !important; }
            .green { fill: hsl(120,100%,80%) !important; }
            .teal { fill: hsl(180,100%,80%) !important; }
            .blue { fill: hsl(240,100%,80%) !important; }
            .purple { fill: hsl(300,100%,80%) !important; }
            .black { fill: #000 !important; }
            .white { fill: #FFF !important; }
            line { stroke-width: 2; stroke: #000; }
            text { text-anchor: middle; font-family: Helvetica, Arial, sans-serif; font-size: 22px; }
            ellipse { stroke-width: 2; stroke: #000; }
            ellipse:not(.no-color) { fill: #FFF; }
            text:not(.no-color) { fill: #000; }
            path { stroke: #000; stroke-width: 2; }
            .step { font-size:18px; }
            .playing #play-button {
                display:none;
            }
            #play-button path {
                -webkit-transform: scale(1);
                transform: scale(1);
            }
            svg:hover #play-button path {
                -webkit-transform: scale(1.5);
                transform: scale(1.5);
            }
            svg[width]:not(.playing):hover {
                cursor:pointer;
            }
        </style>

        <!-- fade linkall -->
        <animate          xlink:href="#linkall" id="linkallpause1" begin="indefinite"        attributeName="opacity" attributeType="XML" from="1" to="1" dur="0.5s"/>
        <animate          xlink:href="#linkall" id="linkallfade"   begin="linkallpause1.end" attributeName="opacity" attributeType="XML" from="1" to="0" dur="0.5s"/>
        <animate          xlink:href="#linkall" id="linkallpause2" begin="linkallfade.end"   attributeName="opacity" attributeType="XML" from="0" to="0" dur="9.5s"/>
        <!-- element 10 -->
        <animateTransform xlink:href="#e10" id="e10pause1" begin="indefinite"    attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="0,0"   dur="1.5s"/>
        <animateTransform xlink:href="#e10" id="e10move1"   begin="e10pause1.end" attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="-90,60" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e10" id="e10pause2" begin="e10move1.end"   attributeName="transform" attributeType="XML" type="translate" from="-90,60" to="-90,60" dur="1.5s"/>
        <animateTransform xlink:href="#e10" id="e10move2"   begin="e10pause2.end" attributeName="transform" attributeType="XML" type="translate" from="-90,60"   to="-90,120" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e10" id="e10pause3"   begin="e10move2.end" attributeName="transform" attributeType="XML" type="translate" from="-90,120"   to="-90,120" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e10" id="e10move3"   begin="e10pause3.end" attributeName="transform" attributeType="XML" type="translate" from="-90,120"   to="-105,180" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e10" id="e10pause4"   begin="e10move3.end" attributeName="transform" attributeType="XML" type="translate" from="-105,180"   to="-105,180" dur="3.5s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <!-- link 9 to 10 -->
        <animate          xlink:href="#link9to10" id="link9to10pause1" begin="indefinite"          attributeName="opacity" attributeType="XML" from="0" to="0" dur="3s"/>
        <animate          xlink:href="#link9to10" id="link9to10show"   begin="link9to10pause1.end" attributeName="opacity" attributeType="XML" from="0" to="1" dur="0.5s"/>
        <animate          xlink:href="#link9to10" id="link9to10pause2" begin="link9to10show.end"   attributeName="opacity" attributeType="XML" from="1" to="1" dur="7s"/>
        <!-- element 8 -->
        <animateTransform xlink:href="#e8" id="e8pause1" begin="indefinite"    attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="0,0"   dur="4s"/>
        <animateTransform xlink:href="#e8" id="e8move1"   begin="e8pause1.end" attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="150,0" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e8" id="e8pause2" begin="e8move1.end"   attributeName="transform" attributeType="XML" type="translate" from="150,0" to="150,0" dur="1s"/>
        <animateTransform xlink:href="#e8" id="e8move2"   begin="e8pause2.end" attributeName="transform" attributeType="XML" type="translate" from="150,0"   to="135,60" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e8" id="e8pause3" begin="e8move2.end"   attributeName="transform" attributeType="XML" type="translate" from="135,60" to="135,60" dur="3.5s"/>
        <!-- element 9 -->
        <animateTransform xlink:href="#e9" id="e9pause1" begin="indefinite"    attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="0,0"   dur="4s"/>
        <animateTransform xlink:href="#e9" id="e9move1"   begin="e9pause1.end" attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="0,60" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e9" id="e9pause2" begin="e9move1.end"   attributeName="transform" attributeType="XML" type="translate" from="0,60" to="0,60" dur="1s"/>
        <animateTransform xlink:href="#e9" id="e9move2"   begin="e9pause2.end" attributeName="transform" attributeType="XML" type="translate" from="0,60"   to="-15,120" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#e9" id="e9pause3" begin="e9move2.end"   attributeName="transform" attributeType="XML" type="translate" from="-15,120" to="-15,120" dur="3.5s"/>
        <!-- link 8 to 9 -->
        <animate          xlink:href="#link8to9" id="link8to9pause1" begin="indefinite"         attributeName="opacity" attributeType="XML" from="0" to="0" dur="5s"/>
        <animate          xlink:href="#link8to9" id="link8to9show"   begin="link8to9pause1.end" attributeName="opacity" attributeType="XML" from="0" to="1" dur="0.5s"/>
        <animate          xlink:href="#link8to9" id="link8to9pause2" begin="link8to9show.end"   attributeName="opacity" attributeType="XML" from="1" to="1" dur="5s"/>
        <!-- tree 3 -->
        <animateTransform xlink:href="#t3" id="t9pause1" begin="indefinite"    attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="0,0"   dur="6s"/>
        <animateTransform xlink:href="#t3" id="t9move1"   begin="t9pause1.end" attributeName="transform" attributeType="XML" type="translate" from="0,0"   to="-75,0" dur="1s" calcMode="spline" keySplines="0.25 0.1 0.25 1" keyTimes="0;1"/>
        <animateTransform xlink:href="#t3" id="t9pause2" begin="t9move1.end"   attributeName="transform" attributeType="XML" type="translate" from="-75,0" to="-75,0" dur="3.5s"/>
        <!-- link 3 to 8 -->
        <animate          xlink:href="#link3to8" id="link3to8pause1" begin="indefinite"         attributeName="opacity" attributeType="XML" from="0" to="0" dur="7.5s"/>
        <animate          xlink:href="#link3to8" id="link3to8show"   begin="link3to8pause1.end" attributeName="opacity" attributeType="XML" from="0" to="1" dur="0.5s"/>
        <animate          xlink:href="#link3to8" id="link3to8pause2" begin="link3to8show.end"   attributeName="opacity" attributeType="XML" from="1" to="1" dur="2.5s"/>
        <!-- element 3 circle -->
        <animate xlink:href="#e3circle" id="e1circlepause1" begin="indefinite" attributeName="fill" attributeType="XML" from="hsl(0,100%,100%)" to="hsl(0,100%,100%)" dur="8.5s"/>
        <animate xlink:href="#e3circle" id="e1circlefill" begin="e1circlepause1.end" attributeName="fill" attributeType="XML" from="hsl(0,100%,100%)" to="hsl(0,100%,80%)" dur="0.5s"/>
        <animate xlink:href="#e3circle" id="e1circlepause2" begin="e1circlefill.end" attributeName="fill" attributeType="XML" from="hsl(0,100%,80%)" to="hsl(0,100%,80%)" dur="1.5s"/>


        <g transform="translate(30,30)">
            <path id="linkall" d="m0 0 l330,0"/>
            <g transform="translate(330,0)">
                <!-- This tree if first as link 3 to 8 needs to be drawn first -->
                <g id="t3">
                    <path d="m0 0 l0,60"/>
                    <path d="m0 0 l-60,60"/>
                    <path id="link3to8" d="m0 0 l-120,60" opacity="0"/>
                    <ellipse id="e3circle" ry="20" rx="20" cy="0" cx="0" class="no-color" fill="#FFF" />
                    <text y="7" x="0">3</text>
                    <g transform="translate(0,60)">
                        <ellipse ry="20" rx="20" cy="0" cx="0"/>
                        <text y="7" x="0">4</text>
                    </g>
                    <g transform="translate(-60,60)">
                        <ellipse ry="20" rx="20" cy="0" cx="0" class="black" />
                        <text y="7" x="0" class="white">5</text>
                    </g>
                </g>
            </g>
            <g>
                <g id="e8">
                    <path d="m0 0 l0,60"/>
                    <path id="link8to9" d="m0 0 l-60,60" opacity="0"/>
                    <ellipse ry="20" rx="20" cy="0" cx="0" />
                    <text y="7" x="0">8</text>
                    <g transform="translate(0,60)">
                        <ellipse ry="20" rx="20" cy="0" cx="0"/>
                        <text y="7" x="0">12</text>
                    </g>
                </g>
            </g>
            <g transform="translate(90,0)">
                <g id="e9">
                    <path id="link9to10" d="m0 0l0 60" opacity="0"/>
                    <ellipse ry="20" rx="20"/>
                    <text y="7" x="0">9</text>
                </g>
            </g>
            <g transform="translate(180,0)">
                <g id="e10">
                    <ellipse ry="20" rx="20" cy="0" cx="0" />
                    <text y="7" x="0">10</text>
                </g>
            </g>
        </g>

        <g id="play-button" transform="translate(195,120)">
            <path d="m-30 -36l60 36l-60 36z" opacity=".85" fill="hsl(0,0%,80%)" stroke-width="0"/>
        </g>
        <rect x="0" y="0" width="300" height="180" id="click-mask" fill="transparent"/>
        <script xlink:type="text/javascript">
            (function () {
                var svg = document.querySelector('#player');
                if (!svg.classList || !document.querySelector('#linkallpause1').beginElement) {
                    return;
                }
                svg.classList.remove('playing');
                document.querySelector('#click-mask').addEventListener('click', startPlaying);

                function startPlaying() {
                    if (!svg.classList.contains('playing')) {
                        svg.classList.add('playing');
                        var selectors = '#linkallpause1, #e10pause1, #link9to10pause1, #e8pause1, #e9pause1, #link8to9pause1, #t9pause1, #e1circlepause1, #link3to8pause1';
                        var elements = document.querySelectorAll(selectors);
                        for (var i = 0; i &lt; elements.length; i++) {
                            elements[i].beginElement();
                        }
                        window.setTimeout(finish, 10500);
                    }
                }

                function finish() {
                    svg.classList.remove('playing');
                }
            })();
        </script>
    </svg>
</svg>
